<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="https://fonts.googleapis.com/css?family=Inconsolata&amp;display=swap" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.min.css" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/theme/monokai.min.css" rel="stylesheet"/><meta http-equiv="origin-trial" content="Ak1q2mlPP/liPtT5bWxAgE12zre448Gqx42aQRq4EsL8vfLPsELqk3xXKBV4iCyK9xKYc7DejNfngi6jyaW/wAwAAABOeyJvcmlnaW4iOiJodHRwczovL2F1c3Rpbi1lbmcuY29tOjQ0MyIsImZlYXR1cmUiOiJXZWJHUFUiLCJleHBpcnkiOjE2NjM3MTgzOTl9"/><style>
            .CodeMirror {
              height: auto !important;
              margin: 1em 0;
            }

            .CodeMirror-scroll {
              height: auto !important;
              overflow: visible !important;
            }
          </style><title>Reversed Z - WebGPU Samples</title><meta name="description" content="This example shows the use of reversed z technique for better utilization of depth buffer precision.
      The left column uses regular method, while the right one uses reversed z technique.
      Both are using depth32float as their depth buffer format. A set of red and green planes are positioned very close to each other.
      Higher sets are placed further from camera (and are scaled for better visual purpose).
      To use reversed z to render your scene, you will need depth store value to be 0.0, depth compare function to be greater,
      and remap depth range by multiplying an additional matrix to your projection matrix.
      Related reading:
      https://developer.nvidia.com/content/depth-precision-visualized
      https://thxforthefish.com/posts/reverse_z/
      "/><meta name="next-head-count" content="9"/><link rel="preload" href="/webgpu-samples/_next/static/css/cedf3806375052da2469.css" as="style"/><link rel="stylesheet" href="/webgpu-samples/_next/static/css/cedf3806375052da2469.css" data-n-g=""/><link rel="preload" href="/webgpu-samples/_next/static/css/aeec59fde574c71726ab.css" as="style"/><link rel="stylesheet" href="/webgpu-samples/_next/static/css/aeec59fde574c71726ab.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/webgpu-samples/_next/static/chunks/f65a48b9.2eb631f28bf274390add.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/commons.12f668dc692cf6ef6acf.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/13.0c746dc19647cc29ca0b.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/main-779dcf6d2bf9de32dfb8.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/webpack-45f82741d0ed76c76935.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/framework.f9803f2774bc67c45cde.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/commons.12f668dc692cf6ef6acf.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/9c3e93bad290ba12b2b09914e2eaeadfda0d0763.e4fb36cf255ca18e2238.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/pages/_app-5f725f91bd70e4f4be9d.js" as="script"/><link rel="preload" href="/webgpu-samples/_next/static/chunks/pages/samples/%5Bslug%5D-5a0d714a30ea1e4d18b6.js" as="script"/></head><body><div id="__next"><div class="MainLayout_wrapper__3oiMZ"><nav class="MainLayout_panel__2Y3Et MainLayout_container__owUtB"><h1><a href="/webgpu-samples">WebGPU Samples</a></h1><a href="https://github.com/austinEng/webgpu-samples">Github</a><hr/><ul class="MainLayout_exampleList__1WSKV"><li><a href="/webgpu-samples/samples/helloTriangle">helloTriangle</a></li><li><a href="/webgpu-samples/samples/helloTriangleMSAA">helloTriangleMSAA</a></li><li><a href="/webgpu-samples/samples/resizeCanvas">resizeCanvas</a></li><li><a href="/webgpu-samples/samples/rotatingCube">rotatingCube</a></li><li><a href="/webgpu-samples/samples/twoCubes">twoCubes</a></li><li><a href="/webgpu-samples/samples/texturedCube">texturedCube</a></li><li><a href="/webgpu-samples/samples/instancedCube">instancedCube</a></li><li><a href="/webgpu-samples/samples/fractalCube">fractalCube</a></li><li><a href="/webgpu-samples/samples/computeBoids">computeBoids</a></li><li><a href="/webgpu-samples/samples/animometer">animometer</a></li><li><a href="/webgpu-samples/samples/videoUploading">videoUploading</a></li><li><a href="/webgpu-samples/samples/imageBlur">imageBlur</a></li><li><a href="/webgpu-samples/samples/shadowMapping">shadowMapping</a></li><li class="MainLayout_selected__2lxK_"><a href="/webgpu-samples/samples/reversedZ">reversedZ</a></li><li><a href="/webgpu-samples/samples/deferredRendering">deferredRendering</a></li><li><a href="/webgpu-samples/samples/particles">particles</a></li></ul></nav><main><div><h1>Reversed Z</h1><a target="_blank" rel="noreferrer" href="https://github.com/austinEng/webgpu-samples/tree/main/src/sample/reversedZ/main.ts">See it on Github!</a><p>This example shows the use of reversed z technique for better utilization of depth buffer precision.
      The left column uses regular method, while the right one uses reversed z technique.
      Both are using depth32float as their depth buffer format. A set of red and green planes are positioned very close to each other.
      Higher sets are placed further from camera (and are scaled for better visual purpose).
      To use reversed z to render your scene, you will need depth store value to be 0.0, depth compare function to be greater,
      and remap depth range by multiplying an additional matrix to your projection matrix.
      Related reading:
      https://developer.nvidia.com/content/depth-precision-visualized
      https://thxforthefish.com/posts/reverse_z/
      </p></div><div class="SampleLayout_canvasContainer__1qkqt"><div style="position:absolute;right:10px"></div><canvas width="600" height="600"></canvas></div><div><nav class="SampleLayout_sourceFileNav__2aMxK"><ul><li><a href="#main.ts" data-active="false">main.ts</a></li><li><a href="#./vertex.wgsl" data-active="false">./vertex.wgsl</a></li><li><a href="#./fragment.wgsl" data-active="false">./fragment.wgsl</a></li><li><a href="#./vertexDepthPrePass.wgsl" data-active="false">./vertexDepthPrePass.wgsl</a></li><li><a href="#./vertexTextureQuad.wgsl" data-active="false">./vertexTextureQuad.wgsl</a></li><li><a href="#./fragmentTextureQuad.wgsl" data-active="false">./fragmentTextureQuad.wgsl</a></li><li><a href="#./vertexPrecisionErrorPass.wgsl" data-active="false">./vertexPrecisionErrorPass.wgsl</a></li><li><a href="#./fragmentPrecisionErrorPass.wgsl" data-active="false">./fragmentPrecisionErrorPass.wgsl</a></li></ul></nav><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div><div class="SampleLayout_sourceFileContainer__3iiDM" data-active="false"><button class="SampleLayout_updateSourceBtn__3lOwr">Update</button><div></div></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"reversedZ"},"__N_SSG":true},"page":"/samples/[slug]","query":{"slug":"reversedZ"},"buildId":"6wjsVkWuh_COslaIptmqS","assetPrefix":"/webgpu-samples","runtimeConfig":{},"nextExport":false,"isFallback":false,"dynamicIds":["VrN/","","+dQi","/0+H","/jkW","0Bsm","0G5g","1uVF","20a2","284h","3WeD","3wub","6D7l","7QzT","7W2i","8Kt/","8N3a","8i9l","Bnag","EbDI","FYa8","HaE+","IOcx","Ijbi","J4zp","Lab5","MYnn","Nh2W","Nsbk","PJYZ","Qetd","RIqP","S3md","SksO","TqRt","W8MJ","WkPL","X24+","Xuae","YTqd","ZhPi","a1gu","b48C","cDf5","dZ6Y","elyg","g/15","g4pe","gguc","hIuh","hS4m","iZKT","ls82","lwAK","lwsE","m0LI","nOHt","o0o1","qOIg","rePB","sXyB","wTVA","wkBG","wkBT","yXPU","MTJ4","NTEr","VBXA","YLbJ","ayAE","aze8","bxpb","oROU"],"gsp":true}</script><script nomodule="" src="/webgpu-samples/_next/static/chunks/polyfills-24247ec73ad7ddd4621f.js"></script><script async="" src="/webgpu-samples/_next/static/chunks/f65a48b9.2eb631f28bf274390add.js"></script><script async="" src="/webgpu-samples/_next/static/chunks/13.0c746dc19647cc29ca0b.js"></script><script src="/webgpu-samples/_next/static/chunks/main-779dcf6d2bf9de32dfb8.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/webpack-45f82741d0ed76c76935.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/framework.f9803f2774bc67c45cde.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/commons.12f668dc692cf6ef6acf.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/9c3e93bad290ba12b2b09914e2eaeadfda0d0763.e4fb36cf255ca18e2238.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/pages/_app-5f725f91bd70e4f4be9d.js" async=""></script><script src="/webgpu-samples/_next/static/chunks/pages/samples/%5Bslug%5D-5a0d714a30ea1e4d18b6.js" async=""></script><script src="/webgpu-samples/_next/static/6wjsVkWuh_COslaIptmqS/_buildManifest.js" async=""></script><script src="/webgpu-samples/_next/static/6wjsVkWuh_COslaIptmqS/_ssgManifest.js" async=""></script></body></html>